class LZA:
  def __init__(self, bitstring):
    self.bitstring = bitstring
    self.code_list = []
    self.content = []
    self.code_dict = None
    self.decode_dict = None

  def encode(self):
    self.__read_bin()

  def __read_bin(self):
    max_size = 16
    symbol = ""
    prefix = None
    least = None
    
    for char in self.bitstring:
      symbol += char
      if not symbol in self.content:
        self.content.append(symbol)
        least = symbol[-1]
        prefix = symbol[:-1]

        try:
          prefix = bin(self.content.index(prefix) + 1)[2:]
        except ValueError:
          prefix = "0"
        
        prefix = "0" * (max_size - (len(prefix) + 1)) + prefix
        self.code_list.append(prefix + least)
        
        symbol = ""

    self.code_dict = dict(zip(self.content, self.code_list))
    self.code_dict = dict(zip(self.code_list, self.content))

    print(self.content)
    print(self.code_list)
    print(self.code_dict)
    print(self.decode_dict)

    
    
    

def main():

  print('Hello, world!')

  b = "010110100101"
  o_lz = LZA(b)
  o_lz.encode()

if __name__ == "__main__":
  main()
